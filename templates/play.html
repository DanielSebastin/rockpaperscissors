{% extends "base.html" %}
{% block content %}

<div class="card game-card">
    <h2>Rock Paper Scissors</h2>

    <!-- INVITE NOT ACCEPTED YET -->
    {% if game.status == "PENDING" %}
        <p class="waiting">
            Waiting for opponent to accept the invite...
        </p>

        <script src="{{ url_for('static', filename='game.js') }}"></script>
        <script>
            pollForUpdate("{{ game.gameId }}");
        </script>

    <!-- GAME PLAYING -->
    {% elif game.status == "PLAYING" %}

        {% if not myChoice %}
            <p class="subtitle">Choose your move:</p>

            <form method="post" action="/choose/{{ game.gameId }}" class="choices">
                <button class="choice rock" name="choice" value="ROCK">
                    ü™® <span>Rock</span>
                </button>

                <button class="choice paper" name="choice" value="PAPER">
                    üìÑ <span>Paper</span>
                </button>

                <button class="choice scissors" name="choice" value="SCISSORS">
                    ‚úÇÔ∏è <span>Scissors</span>
                </button>
            </form>
        {% else %}
            <h3>
                You chose:
                <span class="highlight">{{ myChoice }}</span>
            </h3>
        {% endif %}

        {% if result %}
            <h2 class="result-title">{{ result }}</h2>
            <p class="subtitle">
                Opponent chose: {{ opponentChoice }}
            </p>
        {% else %}
            <p class="waiting">Waiting for opponent...</p>

            <script src="{{ url_for('static', filename='game.js') }}"></script>
            <script>
                pollForUpdate("{{ game.gameId }}");
            </script>
        {% endif %}

    <!-- INVITE REJECTED -->
    {% elif game.status == "REJECTED" %}
        <h2 class="result-title">
            Opponent rejected the invite ‚ùå
        </h2>

    {% endif %}
</div>

{% endblock %}

           
      
